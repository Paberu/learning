# Абстрагирование и факторизация

Начну, как ни странно, с факторизации. При проектировании платформера (видеоигры) подгружается несколько фонов, которые смещаются с разной скоростью (параллакс). Это создаёт эффект погружения, эдакое 3D в 2D. Загружаются статичные объекты, с которыми взаимодействует персонаж (препятствия и платформы). Есть разрушаемые объекты. Есть подвижные NPC-объекты (в основном, враги). Есть фигурки персонажей (если платформер подразумевает парное прохождение). Очень быстро приходит понимание, что несмотря на то, что принципы отрисовки, управления и изменения объектов разные, основные методы отображения их на экран одинаковы. И лучше всего объединить их в общую иерархию, или, по крайней мере, если принято решение не наследовать их от графического класса (is-a), то объединить в общую иерархию те поля классов, которые отвечают за появление всего этого добра на экране (has-a).

Простыми словами: в каждом игровом объекте, для которого подразумеватся появление на экране, будет поле drawable, которое будет представлено один из классов из графической иерархии.

Теперь абстрагирование. Проектировали самолёты для авиасимулятора. Планируется DLC - Эра воздухоплавания, добавлены вертолёты, дирижабли и всякий мусор дорайтовской эпохи (включая парашют да Винчи). Внезапно самостоятельный класс-в-себе оказывается частным случаем летательного аппарата. Прикинув, насколько важны в небе вертолёты, понимаем, что отвертеться не удастся. Создаётся класс ЛетательныйАппарат, от которого наследуется Самолёт, Вертолёт, Дирижабль.
# Проектирование косольной версии Lines.

Сущности (потенциальные АТД):

- Элемент. Графический тип. Хранит значение (для консоли это символы A, B, C, D, E; при подключении графического движка получит спрайт и id цвета) для проверки выполнения условий игрового события. Умеет создаваться с генерацией случайного значения и возвращать хранимое значение.
- Сетка. Графический тип. Игровое поле 8х8, отображается в консоли с помощью спецсимволов, содержит в себе массив (одномерный или двумерный) ячеек. Умеет последовательно отрисовывать элементы, хранящиеся в ячейках.
- Ячейка. Тип внутренней логики. Хранит в себе элемент. Обменивается хранящимся элементом с соседней ячейкой. Получает новый элемент.
- Анализатор ввода. Получает команду пользователя. Проверяет полученные команды на валидность. В случае правильной команды передаёт её мастеру поля.
- Счётчик очков. Хранит очки, набранные пользователем. Получает новую "порцию" очков от мастера поля.
- Счётчик ходов. Хранит количество ходов, сделанных пользователем. Получает +1 от мастера поля, если ход привёл к изменению ситуации в игре.
- Мастер поля. Получает ход от анализатора ввода. Проверяет поле на игровое событие. Возвращает ход пользователю, если тот не приводит к изменению ситуации в игре. Уничтожает элементы. Создаёт новые. Даёт команду ячейкам на обмен элементами. Запускает генерацию новых объектов. Проводит проверку поля после окончания генерации новых объектов. Даёт команды счётчикам. Заканчивает игру. Централизованный модуль.